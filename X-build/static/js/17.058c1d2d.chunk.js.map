{"version":3,"sources":["components/Donation/DonationTable.js","components/Donation/DonateToSubhub.js"],"names":["DonationTable","t","useTranslation","class","scope","DonateToSubhub","props","componentDidMount","id","match","params","subhub_id","console","log","setState","axios","get","address","headers","i18n","language","then","response","subHubs","data","catch","error","message","handleChange","e","target","name","value","handleSubmite","preventDefault","sid","state","amount","currency","loading","post","responseCode","window","location","paymentUrl","setTimeout","iconClass","styleClass","donateTo","err","hubId","this","className","style","margin","data-toggle","role","onSubmit","type","fontWight","readonly","onChange","min","onInvalid","setCustomValidity","onInput","required","data-loading-text","Component","withTranslation"],"mappings":"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","file":"static/js/17.058c1d2d.chunk.js","sourcesContent":["import React from 'react'\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\n function DonationTable(){\r\n\r\n    const { t } = useTranslation();\r\n\r\n     return(\r\n         \r\n        <div class=\"col-xs-12 col-sm-12 col-md-7\">\r\n        <h3 class=\"mt-0 line-bottom\">{t('Donate Through Banks')}</h3>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t('Bank')}</th>\r\n                <th>{t('Branch')}</th>\r\n                <th>{t('Account No')}</th>\r\n              </tr>\r\n            </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td scope=\"col\">{t('Khartoum Bank')}</td>\r\n                    <td>{t('Reyadh')}</td>\r\n                    <td>1290129</td>\r\n                  </tr>\r\n                  <tr>\r\n                 <td scope=\"row\">{t('Abu- Dhabi National Bank')}</td>\r\n                    <td>{t('Headquarters')}</td>\r\n                    <td>891624</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Export Developing Bank')}</td>\r\n                    <td>{t('Al-Sajana')}</td>\r\n                    <td>4765</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Neelain Bank')}</td>\r\n                    <td>{t('Al-Namozaji')}</td>\r\n                    <td>5032</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Salam Bank')}</td>\r\n                    <td>{t('Al-Matar')}</td>\r\n                    <td>305250</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Nile Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>2654</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Saudi Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>14195</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Faisal Islamic Bank')}</td>\r\n                    <td>{t('Barlaman')}</td>\r\n                    <td>12300123</td>\r\n                  </tr>\r\n                </tbody>\r\n          </table>\r\n      </div>\r\n    </div>\r\n\r\n     )\r\n }export default DonationTable;","import React ,{ useState, useEffect, Component }  from 'react';\r\nimport Header from '../sub_page_header'\r\nimport address from '../utils/address';\r\nimport axios from 'axios';\r\nimport { render } from '@testing-library/react';\r\nimport i18n from 'i18next'\r\nimport  {withTranslation}  from 'react-i18next'\r\nimport DonationTable from './DonationTable';\r\n\r\n\r\n\r\n\r\nclass DonateToSubhub extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = \r\n    {\r\n                  \r\n      subhub_id: this.props.match.params.hubId,\r\n      amount: 0,\r\n      message:'',\r\n      iconClass:'',\r\n      styleClass:'',\r\n      currency:\"SDG\",\r\n      loading: false,\r\n      subHubs:[]\r\n      }\r\n}\r\n\r\n componentDidMount =() =>{\r\n\r\n    let id = this.props.match.params.subhub_id\r\n    console.log(this.props.match.params.subhub_id) \r\n\r\n    this.setState({subhub_id:id})\r\n \r\n\r\n    axios.get(`${address()}subHubs/${id}`,{headers: {'accept-language': `${i18n.language}`}})\r\n\r\n    .then(response => {\r\n\r\n         const subHubs = response.data\r\n          this.setState({subHubs})\r\n\r\n    }).catch(error => {\r\n        this.setState({\r\n          message:error.message\r\n        })\r\n    })\r\n\r\n}\r\nasync componentWillReceiveProps(){\r\n\r\n  let id = this.state.subhub_id\r\n\r\n  axios.get(`${address()}subHubs/${id}`,{headers: {'accept-language': `${i18n.language}`}})\r\n\r\n  .then(response => {\r\n\r\n       const subHubs = response.data\r\n        this.setState({subHubs})\r\n\r\n  }).catch(error => {\r\n      this.setState({\r\n        message:error.message\r\n      })\r\n  })\r\n\r\n}\r\n\r\n\r\n  handleChange=(e)=>{\r\n          this.setState({\r\n            [e.target.name]:e.target.value\r\n          })\r\n\r\n      }\r\n\r\n  handleSubmite =(e)=>{\r\n\r\n        e.preventDefault()\r\n            let id = this.state.subhub_id\r\n            const data = \r\n            {\r\n              sid :id,\r\n              amount:this.state.amount,\r\n              currency:this.state.currency\r\n            }\r\n          console.log(data)\r\n          this.setState({loading:true})\r\n\r\n          axios.post(`${address()}donate`,data)\r\n\r\n          /** syber bay payment feedback */\r\n\r\n          .then(response =>{\r\n\r\n            if (response.data.responseCode === 1)\r\n            {\r\n                window.location = response.data.paymentUrl\r\n\r\n                setTimeout(() => {\r\n                  this.setState({ loading: false });\r\n                }, 2000)\r\n\r\n            } else if(response.data.responseCode === 2)\r\n            {\r\n              this.setState({\r\n\r\n                  message :\"Please Enter Valid Amount\",\r\n                  iconClass:'fa fa-times-circle',\r\n                  styleClass:'error-msg',\r\n                  donateTo:'Sadagaat', \r\n                })\r\n              } else\r\n              {\r\n                this.setState(\r\n                  {\r\n                    message :\"something went wrong try again later\",\r\n                    iconClass:'fa fa-times-circle',\r\n                    styleClass:'error-msg',\r\n                    donateTo:'Sadagaat', \r\n                  })\r\n\r\n              }\r\n            \r\n              }) .catch(err => {\r\n                this.setState({\r\n                  loading:true \r\n                })\r\n                let message;\r\n                  if (err.message === 'Network Error')\r\n                  message = 'Network Error'\r\n                  else \r\n                  message = 'something went wrong try again later'\r\n               \r\n                  setTimeout(() => {\r\n                        this.setState({ loading: false,\r\n                                        message:message,\r\n                                        iconClass:'fa fa-times-circle',\r\n                                        styleClass:'error-msg'\r\n                                      });\r\n                      }, 2000)\r\n                  })\r\n   \r\n  }\r\n\r\n\r\n   render(){\r\n    const{t}= this.props\r\n    const loading  = this.state.loading;\r\n\r\n\r\n\r\n    return (\r\n\r\n<div>\r\n  <Header name={t('Donate')}/>\r\n\r\n    <section>\r\n      <div class=\"container\">\r\n        <div class=\"section-content\">\r\n          <div class=\"row\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-5\">\r\n            \r\n              <h3 class=\"mt-0 line-bottom\">{t('Donate Through SyberPay')}<span class=\"font-weight-300\"></span></h3>\r\n                  <p className={this.state.styleClass}>\r\n                        <i className ={this.state.iconClass} style = {{margin:'5px'}}>\r\n                        </i>\r\n                        {t(this.state.message)}\r\n                      </p>\r\n              <form\r\n                  data-toggle=\"validator\"\r\n                  role=\"form\"\r\n                  id=\"popup_paypal_donate_form_onetime_recurring\"\r\n                  onSubmit = {this.handleSubmite}>\r\n\r\n\r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-12\">\r\n                    <div className=\"form-group mb-20\">\r\n\r\n                        <input\r\n                              name=\"name\" \r\n                              className=\"form-control\"\r\n                              type=\"readOnly\" \r\n                              value = {this.state.subHubs.name}\r\n                              style = {{fontWight:'bold'}}\r\n                              readonly\r\n                            />\r\n                    </div>\r\n                   </div>\r\n                   </div>\r\n\r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-9\">\r\n                    <div className=\"form-group mb-20\">\r\n                        <label><strong>{t('How much do you want to donate?')}</strong></label>\r\n\r\n                        <input\r\n                              name=\"amount\" \r\n                              className=\"form-control\"\r\n                              type=\"number\" \r\n                              onChange ={this.handleChange}\r\n                              min=\"1\"\r\n                              onInvalid = {function(e) {\r\n                                e.target.setCustomValidity(t('Enter a valid amount'))}}\r\n                              onInput={function(e) {\r\n                                   e.target.setCustomValidity(t(''))}}\r\n                              required\r\n                            />\r\n                            \r\n                          <div className=\"help-block with-errors\"></div>\r\n                        </div>\r\n                      </div>\r\n                  \r\n                      <div className=\"col-sm-3\">\r\n                      <div className=\"form-group mb-20\">\r\n                            <label><strong> <br/> </strong></label>\r\n\r\n                        <select\r\n                              name=\"currency\" \r\n                              className=\"form-control\"\r\n                              onChange ={this.handleChange}\r\n                            >\r\n                              <option name =\"currency\">SDG</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      </div>\r\n                    \r\n\r\n                    <div className=\"col-sm-12\">\r\n                      <div className=\"form-group\">\r\n\r\n                        <button type=\"submit\" \r\n                          className=\"btn btn-flat btn-dark btn-theme-colored mt-10 pl-30 pr-30\"\r\n                          data-loading-text=\"Please wait...\">\r\n                            {loading && (\r\n                                          <i\r\n                                            className=\"fa fa-spinner fa-spin\"\r\n                                            style={{ margin: \"5px\" }}\r\n                                          />\r\n                                        )}\r\n                            \r\n                            {t('Donate')} {t('Now!')}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                </form>     \r\n              </div>\r\n                  <DonationTable />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n\r\n             </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default withTranslation()(DonateToSubhub);\r\n"],"sourceRoot":""}