{"version":3,"sources":["components/Donation/DonationTable.js","components/Donation/donateToHub.js"],"names":["DonationTable","t","useTranslation","class","scope","DonateToHub","props","handleChange","e","setState","target","name","value","handleSubmite","preventDefault","data","hid","state","hub_id","amount","currency","console","log","loading","axios","post","address","then","response","responseCode","window","location","paymentUrl","setTimeout","message","iconClass","styleClass","donateTo","catch","err","match","params","hubId","hub","id","this","get","headers","i18n","language","error","alert","className","style","margin","role","onSubmit","type","fontSize","readonly","required","min","onChange","onInvalid","setCustomValidity","onInput","data-loading-text","Component","withTranslation"],"mappings":"mHAAA,4BAoEiBA,IAhEhB,WAAyB,IAEdC,EAAMC,cAAND,EAEP,OAEG,yBAAKE,MAAM,gCACX,wBAAIA,MAAM,oBAAoBF,EAAE,yBAChC,yBAAKE,MAAM,oBACT,2BAAOA,MAAM,wBACX,+BACE,4BACE,4BAAKF,EAAE,SACP,4BAAKA,EAAE,WACP,4BAAKA,EAAE,iBAGP,+BACE,4BACE,wBAAIG,MAAM,OAAOH,EAAE,kBACnB,4BAAKA,EAAE,WACP,wCAEF,4BACD,wBAAIG,MAAM,OAAOH,EAAE,6BAChB,4BAAKA,EAAE,iBACP,uCAEF,4BACA,wBAAIG,MAAM,OAAOH,EAAE,2BACjB,4BAAKA,EAAE,cACP,qCAEF,4BACA,wBAAIG,MAAM,OAAOH,EAAE,oBACjB,4BAAKA,EAAE,gBACP,qCAEF,4BACA,wBAAIG,MAAM,OAAOH,EAAE,kBACjB,4BAAKA,EAAE,aACP,uCAEF,4BACA,wBAAIG,MAAM,OAAOH,EAAE,iBACjB,4BAAKA,EAAE,eACP,qCAEF,4BACA,wBAAIG,MAAM,OAAOH,EAAE,kBACjB,4BAAKA,EAAE,eACP,sCAEF,4BACA,wBAAIG,MAAM,OAAOH,EAAE,wBACjB,4BAAKA,EAAE,aACP,+C,0MCjDdI,E,keAEJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAqDRC,aAAa,SAACC,GACN,EAAKC,SAAL,eACGD,EAAEE,OAAOC,KAAMH,EAAEE,OAAOE,SAxDhB,EA6DnBC,cAAe,SAACL,GAEVA,EAAEM,iBACE,IACMC,EACN,CACGC,IAHM,EAAKC,MAAMC,OAIlBC,OAAO,EAAKF,MAAME,OAClBC,SAAS,EAAKH,MAAMG,UAExBC,QAAQC,IAAIP,GAEZ,EAAKN,SAAS,CAACc,SAAQ,IAEvBC,IAAMC,KAAN,UAAcC,cAAd,UAAgCX,GAG/BY,MAAK,SAAAC,GAE+B,IAA/BA,EAASb,KAAKc,cAEdC,OAAOC,SAAWH,EAASb,KAAKiB,WAEhCC,YAAW,WACT,EAAKxB,SAAS,CAAEc,SAAS,MACxB,MAEkC,IAA/BK,EAASb,KAAKc,aAEtB,EAAKpB,SAAS,CAEVyB,QAAS,4BACTC,UAAU,qBACVC,WAAW,YACXC,SAAS,aAGX,EAAK5B,SACH,CACEyB,QAAS,uCACTC,UAAU,qBACVC,WAAW,YACXC,SAAS,gBAIXC,OAAM,SAAAC,GAGR,IAAIL,EAFJ,EAAKzB,SAAS,CAACc,SAAQ,IAIrBW,EADoB,kBAAhBK,EAAIL,QACE,gBAEA,uCAGVD,YAAW,WACL,EAAKxB,SAAS,CAAEc,SAAS,EACTW,QAAQA,EACRC,UAAU,qBACVC,WAAW,gBAE1B,SAzHrB,EAAKnB,MACL,CAEEC,OAAQ,EAAKZ,MAAMkC,MAAMC,OAAOC,MAChCvB,OAAQ,EACRe,QAAQ,GACRC,UAAU,GACVC,WAAW,GACXb,SAAS,EACTH,SAAS,MACTuB,IAAI,IAZW,E,8LAmBbC,EAAKC,KAAK5B,MAAMC,O,SACdM,IAAMsB,IAAN,UAAapB,cAAb,gBAA8BkB,GAAK,CAACG,QAAS,CAAC,kBAAkB,GAAlB,OAAsBC,IAAKC,aAE9EtB,MAAK,SAAAC,GAED,IAAMe,EAAMf,EAASb,KACpB,EAAKN,SAAS,CAACkC,WAElBL,OAAM,SAAAY,GACLC,MAAMD,EAAMhB,Y,+QAQZU,EAAKC,KAAK5B,MAAMC,OAItBM,IAAMsB,IAAN,UAAapB,cAAb,gBAA8BkB,GAAK,CAACG,QAAS,CAAC,kBAAkB,GAAlB,OAAsBC,IAAKC,aAExEtB,MAAK,SAAAC,GAED,IAAMe,EAAMf,EAASb,KACpB,EAAKN,SAAS,CAACkC,WAElBL,OAAM,SAAAY,GACLC,MAAMD,EAAMhB,Y,qIAiFN,IACFjC,EAAI4C,KAAKvC,MAATL,EACAsB,EAAWsB,KAAK5B,MAAMM,QAG5B,OAEJ,6BACE,kBAAC,IAAD,CAAQZ,KAAMV,EAAE,YAEd,iCACE,yBAAKE,MAAM,aACT,yBAAKA,MAAM,mBACT,yBAAKA,MAAM,OACT,yBAAKA,MAAM,gCAET,wBAAIA,MAAM,oBAAoBF,EAAE,2BAA2B,0BAAME,MAAM,qBACnE,uBAAGiD,UAAWP,KAAK5B,MAAMmB,YACnB,uBAAGgB,UAAYP,KAAK5B,MAAMkB,UAAWkB,MAAS,CAACC,OAAO,SAErDrD,EAAE4C,KAAK5B,MAAMiB,UAExB,0BAEIqB,KAAK,OACLX,GAAG,6CACHY,SAAYX,KAAKhC,eAGjB,yBAAKuC,UAAU,OACb,yBAAKA,UAAU,aACf,yBAAKA,UAAU,oBAEX,2BACMzC,KAAK,OACLyC,UAAU,eACVK,KAAK,WACL7C,MAASiC,KAAK5B,MAAM0B,IAAIhC,KACxB0C,MAAS,CAACK,SAAS,QACnBC,UAAQ,EACRC,UAAQ,OAMlB,yBAAKR,UAAU,OACf,yBAAKA,UAAU,YACf,yBAAKA,UAAU,oBACX,+BAAO,gCAASnD,EAAE,qCAElB,2BACMU,KAAK,SACLyC,UAAU,eACVK,KAAK,SACLI,IAAI,IACJC,SAAWjB,KAAKtC,aAChBwD,UAAa,SAASvD,GACpBA,EAAEE,OAAOsD,kBAAkB/D,EAAE,0BAC/BgE,QAAS,SAASzD,GACdA,EAAEE,OAAOsD,kBAAkB/D,EAAE,MACjC2D,UAAQ,MAKhB,yBAAKR,UAAU,YACf,yBAAKA,UAAU,oBACT,+BAAO,oCAAS,6BAAT,MAEX,4BACMzC,KAAK,WACLyC,UAAU,eACVU,SAAWjB,KAAKtC,cAEhB,4BAAQI,KAAM,YAAd,WAOV,yBAAKyC,UAAU,aACb,yBAAKA,UAAU,cAEb,4BAAQK,KAAK,SACXL,UAAU,4DACVc,oBAAkB,kBACR3C,GACM,uBACE6B,UAAU,wBACVC,MAAO,CAAEC,OAAQ,SAGhCrD,EAAE,UATP,IASmBA,EAAE,aAO7B,kBAAC,IAAD,e,GAxOUkE,aAoPXC,wBAAkB/D","file":"static/js/19.5778fb34.chunk.js","sourcesContent":["import React from 'react'\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n\r\n function DonationTable(){\r\n\r\n    const { t } = useTranslation();\r\n\r\n     return(\r\n         \r\n        <div class=\"col-xs-12 col-sm-12 col-md-7\">\r\n        <h3 class=\"mt-0 line-bottom\">{t('Donate Through Banks')}</h3>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t('Bank')}</th>\r\n                <th>{t('Branch')}</th>\r\n                <th>{t('Account No')}</th>\r\n              </tr>\r\n            </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td scope=\"col\">{t('Khartoum Bank')}</td>\r\n                    <td>{t('Reyadh')}</td>\r\n                    <td>1290129</td>\r\n                  </tr>\r\n                  <tr>\r\n                 <td scope=\"row\">{t('Abu- Dhabi National Bank')}</td>\r\n                    <td>{t('Headquarters')}</td>\r\n                    <td>891624</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Export Developing Bank')}</td>\r\n                    <td>{t('Al-Sajana')}</td>\r\n                    <td>4765</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Neelain Bank')}</td>\r\n                    <td>{t('Al-Namozaji')}</td>\r\n                    <td>5032</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Salam Bank')}</td>\r\n                    <td>{t('Al-Matar')}</td>\r\n                    <td>305250</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Nile Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>2654</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Al-Saudi Bank')}</td>\r\n                    <td>{t('Al-Amaraat')}</td>\r\n                    <td>14195</td>\r\n                  </tr>\r\n                  <tr>\r\n                  <td scope=\"row\">{t('Faisal Islamic Bank')}</td>\r\n                    <td>{t('Barlaman')}</td>\r\n                    <td>12300123</td>\r\n                  </tr>\r\n                </tbody>\r\n          </table>\r\n      </div>\r\n    </div>\r\n\r\n     )\r\n }export default DonationTable;","import React ,{ useState, useEffect, Component }  from 'react';\r\nimport Header from '../sub_page_header'\r\nimport address from '../utils/address';\r\nimport axios from 'axios';\r\nimport { render } from '@testing-library/react';\r\nimport i18n from 'i18next'\r\nimport  {withTranslation}  from 'react-i18next'\r\nimport DonationTable from './DonationTable';\r\n\r\n\r\n\r\nclass DonateToHub extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = \r\n    {\r\n                  \r\n      hub_id: this.props.match.params.hubId,\r\n      amount: 0,\r\n      message:'',\r\n      iconClass:'',\r\n      styleClass:'',\r\n      loading: false,\r\n      currency:\"SDG\",\r\n      hub:[]\r\n      }\r\n}\r\n\r\n async componentDidMount (){\r\n\r\n    //let id = this.props.match.params.hubId\r\n    let id = this.state.hub_id\r\n    await axios.get(`${address()}hubs/${id}`,{headers: {'accept-language': `${i18n.language}`}})\r\n\r\n    .then(response => {\r\n\r\n         const hub = response.data\r\n          this.setState({hub})\r\n\r\n    }).catch(error => {\r\n        alert(error.message)\r\n    })\r\n \r\n }\r\n\r\nasync componentWillReceiveProps(){\r\n\r\n    //let id = this.props.match.params.hubId\r\n    let id = this.state.hub_id\r\n\r\n    //this.setState({hub_id:id})\r\n\r\n  axios.get(`${address()}hubs/${id}`,{headers: {'accept-language': `${i18n.language}`}})\r\n\r\n  .then(response => {\r\n\r\n       const hub = response.data\r\n        this.setState({hub})\r\n\r\n  }).catch(error => {\r\n      alert(error.message)\r\n  })\r\n\r\n}\r\n\r\n\r\n  handleChange=(e)=>{\r\n          this.setState({\r\n            [e.target.name]:e.target.value\r\n          })\r\n\r\n      }\r\n\r\n  handleSubmite =(e)=>{\r\n\r\n        e.preventDefault()\r\n            let id = this.state.hub_id\r\n            const data = \r\n            {\r\n               hid :id,\r\n              amount:this.state.amount,\r\n              currency:this.state.currency\r\n            }\r\n          console.log(data)\r\n\r\n          this.setState({loading:true})\r\n\r\n          axios.post(`${address()}donate`,data)\r\n          /** syber bay payment feedback */\r\n\r\n          .then(response =>{\r\n\r\n            if (response.data.responseCode === 1)\r\n            {\r\n                window.location = response.data.paymentUrl\r\n\r\n                setTimeout(() => {\r\n                  this.setState({ loading: false });\r\n                }, 2000)\r\n\r\n            } else if(response.data.responseCode === 2)\r\n            {\r\n              this.setState({\r\n\r\n                  message :\"Please Enter Valid Amount\",\r\n                  iconClass:'fa fa-times-circle',\r\n                  styleClass:'error-msg',\r\n                  donateTo:'Sadagaat', \r\n                })\r\n              } else {\r\n                this.setState(\r\n                  {\r\n                    message :\"something went wrong try again later\",\r\n                    iconClass:'fa fa-times-circle',\r\n                    styleClass:'error-msg',\r\n                    donateTo:'Sadagaat', \r\n                  })\r\n              }\r\n            \r\n              }) .catch(err => {\r\n                this.setState({loading:true })\r\n\r\n                let message;\r\n                  if (err.message === 'Network Error')\r\n                  message = 'Network Error'\r\n                  else \r\n                  message = 'something went wrong try again later'\r\n\r\n                \r\n                  setTimeout(() => {\r\n                        this.setState({ loading: false,\r\n                                        message:message,\r\n                                        iconClass:'fa fa-times-circle',\r\n                                        styleClass:'error-msg'\r\n                                      });\r\n                      }, 2000)\r\n                  })\r\n   \r\n               }\r\n\r\n\r\n   render(){\r\n    const{t}= this.props\r\n    const loading  = this.state.loading;\r\n\r\n\r\n    return (\r\n\r\n<div>\r\n  <Header name={t('Donate')}/>\r\n\r\n    <section>\r\n      <div class=\"container\">\r\n        <div class=\"section-content\">\r\n          <div class=\"row\">\r\n            <div class=\"col-xs-12 col-sm-12 col-md-5\">\r\n            \r\n              <h3 class=\"mt-0 line-bottom\">{t('Donate Through SyberPay')}<span class=\"font-weight-300\"></span></h3>\r\n                  <p className={this.state.styleClass}>\r\n                        <i className ={this.state.iconClass} style = {{margin:'5px'}}>\r\n                        </i>\r\n                        {t(this.state.message)}\r\n                   </p>\r\n              <form\r\n                  // data-toggle=\"validator\"\r\n                  role=\"form\"\r\n                  id=\"popup_paypal_donate_form_onetime_recurring\"\r\n                  onSubmit = {this.handleSubmite}\r\n                  >\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm-12\">\r\n                    <div className=\"form-group mb-20\">\r\n\r\n                        <input\r\n                              name=\"name\" \r\n                              className=\"form-control\"\r\n                              type=\"readOnly\" \r\n                              value = {this.state.hub.name}\r\n                              style = {{fontSize:'16px'}}\r\n                              readonly\r\n                              required\r\n                            />\r\n                      </div>\r\n                    </div>\r\n                   </div>\r\n                     \r\n                    <div className=\"row\">\r\n                    <div className=\"col-sm-9\">\r\n                    <div className=\"form-group mb-20\">\r\n                        <label><strong>{t('How much do you want to donate?')}</strong></label>\r\n\r\n                        <input\r\n                              name=\"amount\" \r\n                              className=\"form-control\"\r\n                              type=\"number\" \r\n                              min=\"1\"\r\n                              onChange ={this.handleChange}\r\n                              onInvalid = {function(e) {\r\n                                e.target.setCustomValidity(t('Enter a valid amount'))}}\r\n                              onInput={function(e) {\r\n                                  e.target.setCustomValidity(t(''))}}\r\n                              required\r\n                            />\r\n                            </div>\r\n                      </div>\r\n                  \r\n                      <div className=\"col-sm-3\">\r\n                      <div className=\"form-group mb-20\">\r\n                            <label><strong> <br/> </strong></label>\r\n\r\n                        <select\r\n                              name=\"currency\" \r\n                              className=\"form-control\"\r\n                              onChange ={this.handleChange}\r\n                            >\r\n                              <option name =\"currency\">SDG</option>\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      </div>\r\n                    \r\n\r\n                    <div className=\"col-sm-12\">\r\n                      <div className=\"form-group\">\r\n\r\n                        <button type=\"submit\" \r\n                          className=\"btn btn-flat btn-dark btn-theme-colored mt-10 pl-30 pr-30\"\r\n                          data-loading-text=\"Please wait...\">\r\n                                   {loading && (\r\n                                          <i\r\n                                            className=\"fa fa-spinner fa-spin\"\r\n                                            style={{ margin: \"5px\" }}\r\n                                          />\r\n                                        )}\r\n                            {t('Donate')} {t('Now!')}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                </form>     \r\n              </div>\r\n\r\n                <DonationTable />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n\r\n             </div>\r\n    )\r\n}\r\n}\r\n\r\nexport default withTranslation()(DonateToHub);\r\n"],"sourceRoot":""}